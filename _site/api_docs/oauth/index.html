<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Zype Developer Portal | OAuth</title>
    <meta name="description" content="This is the devloper portal for Zype Media. Zype is Revenue and Reach Magic for Online Video. We help content owners deliver fully branded video experiences.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://dev.zype.com/api_docs/oauth/">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1376128-30', 'auto');
    ga('create', 'UA-1376128-21', 'auto', {'name': 'global'});

    ga('send', 'pageview');
    ga('global.send', 'pageview');

    </script>

    <!-- Start of zypetrial Zendesk Widget script -->
    <script>/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","zypetrial.zendesk.com");/*]]>*/</script>
    <!-- End of zypetrial Zendesk Widget script -->
</head>


  <body>

      <header id="header" style="overflow-y: scroll;">
    <div id="content">
      <a href="/"><img src="http://dev.zype.com/assets/logo.png" alt="Zype" />
      <h1 id="title">Developer Portal</h1></a>
      <p>a knowledge base</p>
      <br>
      <p class="category"><a href="/api_docs/intro/" style="color: #8acfef;">API Documentation</a></p>
      <a href="/api_docs/zype_platform/"><h4 class="api-header">Zype Platform</h4></a>
      <p><a href="/api_docs/videos/">Videos</a></p>
      <p><a href="/api_docs/playlists/">Playlists</a></p>
      <p><a href="/api_docs/categories/">Categories</a></p>
      <p><a href="/api_docs/apps/">Apps</a></p>
      <p><a href="/api_docs/devices/">Devices</a></p>
      <p><a href="/api_docs/device_categories/">Device Categories</a></p>
      <p><a href="/api_docs/players/">Native Players</a></p>
      <p><a href="/api_docs/revenue_models/">Revenue Models</a></p>
      <p><a href="/api_docs/video_imports/">Video Imports</a></p>
      <p><a href="/api_docs/video_sources/">Video Sources</a></p>
      <p><a href="/api_docs/distribution_endpoints/">Distribution Endpoints</a></p>
      <p><a href="/api_docs/geoip/">GeoIP</a></p>
      <a href="/api_docs/users/"><h4 class="api-header">Users</h4></a>
      <p><a href="/api_docs/consumers/">Consumers</a></p>
      <p><a href="/api_docs/device_linking/">Device Linking</a></p>
      <p><a href="/api_docs/plans/">Plans</a></p>
      <p><a href="/api_docs/oauth/">OAuth</a></p>
      <p><a href="/api_docs/subscriptions/">Subscriptions</a></p>
      <a href="/api_docs/zobject_docs/"><h4 class="api-header">Zobjects</h4></a>
      <p><a href="/api_docs/zobject_types/">Zobject Types</a></p>
      <p><a href="/api_docs/zobjects/">Zobjects</a></p>
      <br>
      <p class="category"><a href="/platform_docs/" style="color: #8acfef;">Platform Documentation</a></p>
      <p class="category"><a href="/glossary/" style="color: #8acfef;">Glossary</a></p>
      <p class="category"><a href="http://status.zype.com" style="color: #8acfef;">System Status</a></p>
      <p class="category"><a href="/faq/" style="color: #8acfef;">FAQ</a></p>
      <br>
      <div class="hidden-mobile">
        © 2015 Zype Media Group
      </div>
    </div>
  </header>


    <section id="main">
      <h2 id="consumer-oauth">Consumer OAuth</h2>

<p>Zype provides an authentication mechanism for consumer authentication.
You will need to create a consumer before you can authenticate her.
Please <a href="http://dev.zype.com/api_docs/consumers/">check out our consumer docs</a> to learn how to create a consumer. Once a consumer
has been created, you will authenticate her to get an access token. This access
token is then used to authenticate API requests on the behalf of your end user.</p>

<h3 id="getting-your-client-id-and-client-secret">Getting your client id and client secret</h3>

<p>To make consumer authentication requests, you will need to use your client id and client secret keys.
Please <a href="mailto:developers@zypemedia.com">email Zype</a> to get your client id and client secret keys.</p>

<h3 id="retrieving-an-access-token">Retrieving an access token</h3>

<h4 id="via-password-grant-flow">Via password grant flow</h4>

<p>The password grant flow allows you to pass in a user’s username (email address) and password
to get an access token in return.</p>

<hr />

<pre><code> POST - https://login.zype.com/oauth/token/?client_id=client_id&amp;client_secret=client_secret&amp;username=email&amp;password=password&amp;grant_type=password
</code></pre>

<h4 id="parameters">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Function</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>client_id</td>
      <td>Your Zype App’s client id</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_secret</td>
      <td>Your Zype App’s client secret</td>
      <td>String</td>
    </tr>
    <tr>
      <td>username</td>
      <td>The username (email) of the end user</td>
      <td>String</td>
    </tr>
    <tr>
      <td>password</td>
      <td>Password of the end user</td>
      <td>String</td>
    </tr>
    <tr>
      <td>grant_type</td>
      <td>Grant Type. Use: ‘password’</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h4 id="response">Response</h4>
<p>200
Content-Type: application/json</p>

<pre><code>{
  "access_token":"abc123",
  "token_type":"bearer",
  "expires_in":7200,
  "refresh_token":"def456",
  "scope":"public"
}
</code></pre>

<h4 id="via-authorization-code-grant-flow">Via authorization code grant flow</h4>

<p>We will be supporting the authorization code grant flow in the future. If you have a need for this type of
oauth flow now, please <a href="mailto:developers@zype.com">reach out</a>!</p>

<h3 id="getting-access-token-metadata">Getting access token metadata</h3>

<p>You can get additional metadata from your access token. This includes when the access token
expires, when the access token was created, and the consumer id linked to the access token.
Note, the consumer id is found in the returned “resource_owner_id” value.</p>

<hr />

<pre>GET - https://login.zype.com/oauth/token/info?access_token=access_token<code>
</code></pre>

<h4 id="parameters-1">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Function</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>access_token</td>
      <td>The access token created via oauth</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h4 id="response-1">Response</h4>
<p>200
Content-Type: application/json</p>

<pre><code>{
  "resource_owner_id": "abc123",
  "scopes": [
    "consumer"
    ],
  "expires_in_seconds": 7026,
  "application": {
    "uid": "abc123"
    },
  "created_at": 1429544923
}
</code></pre>

<h3 id="refreshing-an-access-token">Refreshing an access token</h3>

<p>Your access token will expire after 2 hours. To refresh your access token, post your refresh token and you will get a new access token in return.</p>

<hr />

<pre><code> POST - https://api.zype.com/oauth/token/?client_id=client_id&amp;client_secret=client_secret&amp;refresh_token=refresh_token&amp;grant_type=refresh_token
</code></pre>

<h4 id="parameters-2">Parameters</h4>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Function</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>client_id</td>
      <td>Your Zype App’s client id</td>
      <td>String</td>
    </tr>
    <tr>
      <td>client_secret</td>
      <td>Your Zype App’s client secret</td>
      <td>String</td>
    </tr>
    <tr>
      <td>refresh_token</td>
      <td>Token that allows you to refresh your access token</td>
      <td>String</td>
    </tr>
    <tr>
      <td>grant_type</td>
      <td>Grant type. Use: ‘refresh_token’</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

<h4 id="response-2">Response</h4>
<p>200
Content-Type: application/json</p>

<pre><code>{
    "access_token":"abc123",
    "token_type":"bearer",
    "expires_in":30,
    "refresh_token":"def456",
    "scope":"public"
  }
</code></pre>

<h3 id="authenticating-an-api-request-on-the-behalf-of-a-consumer">Authenticating an API request on the behalf of a consumer</h3>

<p>To authenticate an API request on the behalf of a consumer, you can pass the access token
into your API request with the access_token parameter. For example, see below how to
request a player for a SVOD video using your access token.</p>

<pre><code> GET - https://player.zype.com/embed/abc123.js?access_token=access_token
</code></pre>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Function</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>access_token</td>
      <td>The access token retrieved via oauth</td>
      <td>String</td>
    </tr>
  </tbody>
</table>

    </section>

    <footer id="footer">
  <p style="padding-top: 10px;">
    © 2015 Zype Media Group
  </p>
</footer>


  </body>

</html>
